{"version":3,"sources":["../scripts.js"],"names":["switcheroo","htmlRoot","classList","add","switchlink","parentNode","toggle","switchh1","innerHTML","switchh2","style","display","switchlede","fixTop","window","scrollY","coords","bottom","toc","setTimeout","iconList","remove","staticize","contentHeader","backgroundPosition","pageYOffset","show","this","fntext","animate","iconAction","console","log","iconPopover","animateFade","popUpAction","e","templateSelector","getAttribute","linkCoords","getBoundingClientRect","left","scrollX","popOver","position","top","matchMedia","matches","querySelector","addEventListener","preventDefault","showTable","tableToPop","contains","tablePopIcon","breakOne","breakTwo","breakThree","breakFour","breakFive","mqlBreakOne","mqlBreakTwo","mqlBreakThree","mqlBreakFour","mqlBreakFive","document","toctoc","menuShow","iconListIcons","slice","call","querySelectorAll","tocCoords","topOfToc","height","fnlink","forEach","icon","closePopover","authorLinks","author","createElement","body","append","tablePopover"],"mappings":"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","file":"scripts-min.js","sourcesContent":["//mql = media query list\nconst breakOne = '360'; // 360px  22.5em\nconst breakTwo = '760'; // 760px  46.25em\nconst breakThree = '980'; // 980px  61.25em\nconst breakFour = '1140'; // 1140px  71.25em\nconst breakFive = '1300'; // 1300px  81.25\n\nconst mqlBreakOne = window.matchMedia(`(min-width: ${breakOne}px)`);\nconst mqlBreakTwo = window.matchMedia(`(min-width: ${breakTwo}px)`);\nconst mqlBreakThree = window.matchMedia(`(min-width: ${breakThree}px)`);\nconst mqlBreakFour = window.matchMedia(`(min-width: ${breakFour}px)`);\nconst mqlBreakFive = window.matchMedia(`(min-width: ${breakFive}px)`);\n\n// content switcher for show\nconst switchlink = document.querySelector('.switch')\nconst switchh1 = document.querySelector('.switch-h1')\nconst switchh2 = document.querySelector('.switch-h2')\nconst switchlede = document.querySelector('.switch-lede')\n\n\nconst htmlRoot = document.querySelector('html')\n\n\nswitchh2.style.display = 'none'\nswitchh1.style.display = 'none'\nswitchlede.style.display = 'none'\nswitchlink.addEventListener('click', switcheroo)\n\nfunction switcheroo(){\n\n\thtmlRoot.classList.add('in-chapter') // add root class\n\n\tswitchlink.parentNode.classList.toggle('active')\n\t\n\tswitchh1.innerHTML = 'Focus'\n\tswitchh2.style.display = 'block'\n\tswitchh1.style.display = 'block'\n\tswitchlede.style.display = 'block'\n\tswitchh2.innerHTML = 'CDS Index Options Basics'\n\tswitchlede.innerHTML = 'CDS index options provide the right to buy or sell index protection at a predetermined strike and time in the future. They are broadly similar to options on equity indices, with the terminology and quotation similar to that of interestrate swaptions. CDS index options provide the right to buy or sell index protection at a predetermined strike and time in the future.'\n\tswitchlede.classList.toggle('lede') \n\tswitchh1.classList.toggle('alt') \n\tswitchh2.classList.toggle('alt') \n}\n\n// end switch\n\n\nconst toc = document.querySelector('.toc');\nconst toctoc = document.querySelector('.toc__toc');\nconst menuShow = document.querySelector('.menu-bug');\nconst contentHeader = document.querySelector('.content__header');\nconst iconList = document.querySelector('.icon-list');\nvar iconListIcons = [].slice.call(iconList.querySelectorAll('a'));\n\n// open close toc\nmenuShow.addEventListener('click', function () {\n\t// console.log('hi')\n\tconst tocCoords = toc.getBoundingClientRect();\n\tconst topOfToc = (tocCoords.height)\n\ttoctoc.style.top = topOfToc + 'px';\n\ttoctoc.classList.toggle('toc__open');\n});\n\n//window.scroll functions\n//show menubar at top of page, make the icon list static\n\nwindow.addEventListener('scroll', fixTop);\nconst tocCoords = toc.getBoundingClientRect();\nconst coords = { bottom: tocCoords.bottom + window.scrollY }\n\t// console.log('The bottom of TOC is ' + coords.bottom + 'px from the top')\n\tfunction fixTop(){\n\t\tif (window.scrollY > coords.bottom) {\n\t\t\ttoc.classList.add('fix-top')\n\t\t\tsetTimeout(function(){\n\t\t\t\ttoc.classList.add('fix-top-open')\n\t\t\t}, 0)\n\t\t\ticonList.classList.add('posfixed')\n\t\t} else if(window.scrollY < coords.bottom) {\n\t\t\ttoc.classList.remove('fix-top')\n\t\t\ttoc.classList.remove('fix-top-open')\n\t\t\ticonList.classList.remove('posfixed')\n\t\t}\n\t}\n\n//, parallax effect on image\nwindow.addEventListener('scroll', staticize);\nfunction staticize(){\n\tcontentHeader.style.backgroundPosition = '50% ' + (pageYOffset * -1.5) + 'px';\n}\n//END window.scroll functions\n\n// footnotes\nconst fnlink = document.querySelector('.footnote-link');\nconst fntext = document.querySelector('.footnote-item');\n\nfunction show(){\n\tthis.classList.toggle('fn-expanded');\n\tfntext.classList.toggle('fn-displayed');\n\tsetTimeout(animate, 100);\n}\nfunction animate(){\n\tfntext.classList.toggle('fn-expanded');\n}\n// support MAIN-2 page\nif(fnlink){\nfnlink.addEventListener('click', show);\n}\n\n// icon-bar in left column\niconListIcons.forEach(icon => icon.addEventListener('click', iconAction));\n\nconst iconPopover = document.querySelector('.popover');\nconst closePopover = document.querySelector('.close-popover');\nclosePopover.addEventListener('click', iconAction);\n\nfunction iconAction(){\n\t// this.toggleClass('circle-color');\n\tconsole.log(this) // anchor\n\ticonPopover.classList.toggle('display-block');\n\tsetTimeout(animateFade, 100);\n}\nfunction animateFade(){\n\ticonPopover.classList.toggle('active');\n}\n\n// byline popovers\nconst authorLinks = document.querySelectorAll('.byline a');\nauthorLinks.forEach( author => author.addEventListener('click', popUpAction));\n\nconst popOver = document.createElement('div');\npopOver.classList.add('byline-popover');\ndocument.body.append(popOver)\n\nfunction popUpAction(e){\n\tconst templateSelector = this.getAttribute('href');\n\tconst linkCoords = this.getBoundingClientRect();\n\tconst coords = {\n\t\tbottom: linkCoords.bottom + window.scrollY,\n\t\tleft: linkCoords.left + window.scrollX\n\t}\n\tpopOver.style.position = 'absolute'\n\tpopOver.style.top = `${coords.bottom + 4}px`; \n\n\t//mql = media query list\n\tlet mql = window.matchMedia('(min-width: 760px)');\n\t// console.log(breakTwo)\n\n\tif (mql.matches) {\n\t\tpopOver.style.left = `${coords.left}px`;\n\t} else {\n\t\tpopOver.style.left = `1rem`;\n\t}\n\n\tconst popOverFrag = `\n\t<a class=\"close-popover\" href=\"#00\">✖︎</a>\n\t<div class=\"popover__content\">\n\t<div>Bradley Rogoff, CFA<span class=\"popover-credentials\">BCI, US</span> <span class=\"popover-credentials\">High Grade Credit</span></div>\n\t<ul>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF430;\"></span> <a href=\"#0\">+1 (212) 526-4000</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF407;\"></span> <a href=\"#0\">Analyst's Page</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF379;\"></span> <a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n\t</ul>\n\t</div>\n\t`;\n\n\tconst popOverFragMultiples = `\n\t<a class=\"close-popover\" href=\"#00\">✖︎</a>\n\t<div class=\"popover__content multiple\">\n\t<div>Multiple Analysts<span class=\"popover-credentials\">BCI, US</span> <span class=\"popover-credentials\">High Grade Credit</span></div>\n\t<ul>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF430;\"></span> <a href=\"#0\">+1 (212) 526-4000</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF407;\"></span> <a href=\"#0\">Analyst's Page</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF379;\"></span> <a href=\"#0\">shobit.gupta@barclays.com</a></li>\n\t</ul>\n\t</div>\n\n\t<div class=\"popover__content multiple\">\n\t<div>Shobhit Gupta<span class=\"popover-credentials\">BCI, US</span> <span class=\"popover-credentials\">High Grade Credit</span></div>\n\t<ul>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF430;\"></span> <a href=\"#0\">+1 (212) 526-4000</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF407;\"></span> <a href=\"#0\">Analyst's Page</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF379;\"></span> <a href=\"#0\">shobit.gupta@barclays.com</a></li>\n\t</ul>\n\t</div>\n\n\t<div class=\"popover__content multiple\">\n\t<div>Another Analyst, CFA<span class=\"popover-credentials\">BCI, US</span> <span class=\"popover-credentials\">High Grade Credit</span></div>\n\t<ul>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF430;\"></span> <a href=\"#0\">+1 (212) 526-4000</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF407;\"></span> <a href=\"#0\">Analyst's Page</a></li>\n\t<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xF379;\"></span> <a href=\"#0\">another.analyst@barclays.com</a></li>\n\t</ul>\n\t</div>\n\t`;\n\n\tif (templateSelector === '#multiples'){\n\t\tpopOver.innerHTML = popOverFragMultiples;\n\t} else {\n\t\tpopOver.innerHTML = popOverFrag;\n\t}\n\tpopOver.classList.toggle('show');\n\tconst closePopover = popOver.querySelector('.close-popover');\n\tclosePopover.addEventListener('click', function(){\n\t\tpopOver.classList.remove('show');\n\t})\n\te.preventDefault();\n}\n\n\n\n// simulate clicking on a large table\nconst tablePopover = document.querySelector('.figure-header');\nconst tableToPop = document.querySelector('.figure-header + table');\nconst tablePopIcon = document.querySelector('.table-xl--btn');\n\n// support MAIN-2\nif(tablePopover) {\ntablePopover.addEventListener('click', showTable);\n}\n\nfunction showTable(){\n\ttableToPop.classList.toggle('table-pop')\n\tif (tableToPop.classList.contains('table-pop')) {\n\t\ttablePopIcon.innerHTML = '<img src=\"svg/arrows-close.svg\" />'\n\t} else {\n\t\ttablePopIcon.innerHTML = '<img src=\"svg/arrows.svg\" />'\n\t}\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}